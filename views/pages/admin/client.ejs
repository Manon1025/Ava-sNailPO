<!-- START STYLES -->
<link rel="stylesheet" href="/CSS/ADMIN/client.css">
<!-- END STYLES -->

<!-- START CONTENT -->
<div class="client-page">
    <!-- ! START HEADER -->
    <div class="client-header">
        <div class="header-content">
            <div class="title-section">
                <div class="title-icon">
                    <i class="fas fa-users"></i>
                </div>
                <div>
                    <h1 class="page-title">Gestion des Clients</h1>
                    <p class="page-subtitle">Gérez vos clients et leurs informations</p>
                </div>
            </div>
        </div>
    </div>
    <!-- ! END HEADER -->

    <!-- ! START CONTENT -->
    <div class="client-container">
        <div class="client-toolbar">
            <div class="toolbar-left">
                <button id="addClientBtn" class="client-btn">
                    <a href="/ajout-d-un-nouveau-client"><i class="fas fa-plus"></i> Ajouter un client</a>
                </button>
            </div>
            <div class="toolbar-right">
                <div class="search-box">
                    <input type="text" placeholder="Rechercher un client..." id="searchClient">
                    <i class="fas fa-search"></i>
                </div>
            </div>
        </div>

        <!-- Tableau des clients -->
        <div class="clients-table-container">
            <div class="table-header">
                <h3><i class="fas fa-list"></i> Liste des Clients</h3>
                <span class="client-count">0 clients au total</span>
            </div>
            
            <div class="table-wrapper">
                <% if (typeof clients !== 'undefined' && clients && clients.length > 0) { %>
                    <table class="clients-table">
                        <thead>
                            <tr>
                                <th><i class="fas fa-user"></i> Nom</th>
                                <th><i class="fas fa-user"></i> Prénom</th>
                                <th><i class="fas fa-phone"></i> Téléphone</th>
                                <th><i class="fas fa-envelope"></i> Email</th>
                                <th><i class="fas fa-cogs"></i> Actions</th>
                            </tr>
                        </thead>
                        <tbody>
                            <% clients.forEach(client => { %>
                                <tr>
                                    <td>
                                        <div class="client-name"><%= client.l_name %></div>
                                    </td>
                                    <td>
                                        <div class="client-firstname"><%= client.f_name %></div>
                                    </td>
                                    <td>
                                        <div class="client-phone">
                                            <i class="fas fa-mobile-alt"></i>
                                            <%= client.phone %>
                                        </div>
                                    </td>
                                    <td>
                                        <div class="client-email">
                                            <i class="fas fa-at"></i>
                                            <%= client.mail %>
                                        </div>
                                    </td>
                                    <td>
                                        <div class="action-buttons">
                                            <button class="btn-view" title="Voir plus">
                                            <a href="/about-client/<%= client.id_client %>" title="Voir plus">
                                                <i class="fas fa-eye"></i>
                                            </a>
                                            </button>
                                            <button class="btn-edit" title="Voir plus">
                                            <a href="/update-client/<%= client.id_client %>" title="Modifier">
                                                <i class="fas fa-edit"></i>
                                            </a>
                                            </button>
                                            <form action="/delete-client/<%= client.id_client %>" method="POST" onsubmit="return confirm('Êtes-vous sûr de vouloir supprimer ce client ?');">
                                                <button type="submit" class="btn-delete" title="Supprimer">
                                                    <i class="fas fa-trash"></i>
                                                </button>
                                            </form>
                                        </div>
                                    </td>
                                </tr>
                            <% }); %>
                        </tbody>
                    </table>
                <% } else { %>
                    <div class="no-clients">
                        <div class="no-clients-icon">
                            <i class="fas fa-users"></i>
                        </div>
                        <h3>Aucun client créé</h3>
                        <p>Vous n'avez pas encore de clients enregistrés.</p>
                        <p>Cliquez sur "Ajouter un client" pour commencer.</p>
                    </div>
                <% } %>
            </div>
        </div>
    </div>
    <!-- ! END CONTENT -->
</div>
<!-- END CONTENT -->