<div class="container my-5">
  <div class="card shadow-sm border-0">
    <div class="card-body p-5">
      <h1 class="text-center mb-4">Ajouter un document</h1>

      <form method="post" action="/add-document" enctype="multipart/form-data" class="needs-validation" novalidate>
        
        <div class="row g-3 mb-3">
          <!-- Nom du document -->
          <div class="col-md-6">
            <label for="name" class="form-label fw-semibold">Nom du document</label>
            <input type="text" 
                   value="<%= formData ? formData.name : '' %>" 
                   class="form-control <%= details && details.some(d => d.toLowerCase().includes('nom')) ? 'is-invalid' : '' %>" 
                   id="name" 
                   name="name" 
                   placeholder="Entrez le nom du document">
          </div>

          <!-- Fichier document -->
          <div class="col-md-6">
            <label for="document" class="form-label fw-semibold">Document</label>
            <input type="file" 
                   class="form-control <%= details && details.some(d => d.toLowerCase().includes('fichier')) ? 'is-invalid' : '' %>" 
                   id="document" 
                   name="document" 
                   accept=".pdf, .doc, .docx, image/*">
          </div>
        </div>

        <!-- Description -->
        <div class="mb-3">
          <label for="description" class="form-label fw-semibold">Description</label>
          <textarea class="form-control <%= details && details.some(d => d.toLowerCase().includes('description')) ? 'is-invalid' : '' %>" 
                    name="description" 
                    id="description" 
                    rows="4"
                    placeholder="Décrivez le document"><%= formData ? formData.description : '' %></textarea>
        </div>

        <!-- Catégorie -->
        <div class="mb-3">
          <label for="category" class="form-label fw-semibold">Catégorie</label>
          <select id="category" name="category" class="form-select <%= details && details.some(d => d.toLowerCase().includes('catégorie')) ? 'is-invalid' : '' %>">
            <option value="">--Sélectionner--</option>
            <option value="1" <%= formData && formData.category === 1 ? 'selected' : '' %>>Réglement intérieur</option>
            <option value="2" <%= formData && formData.category === 2 ? 'selected' : '' %>>Hygiène et sécurité</option>
            <option value="3" <%= formData && formData.category === 3 ? 'selected' : '' %>>Produits et matériaux</option>
            <option value="4" <%= formData && formData.category === 4 ? 'selected' : '' %>>Prestations</option>
            <option value="5" <%= formData && formData.category === 5 ? 'selected' : '' %>>Formation & Diplôme</option>
            <option value="6" <%= formData && formData.category === 6 ? 'selected' : '' %>>Accueil & Client</option>
            <option value="7" <%= formData && formData.category === 7 ? 'selected' : '' %>>Administration</option>
            <option value="8" <%= formData && formData.category === 8 ? 'selected' : '' %>>Organisation</option>
            <option value="9" <%= formData && formData.category === 9 ? 'selected' : '' %>>Equipe & Communication</option>
            <option value="10" <%= formData && formData.category === 10 ? 'selected' : '' %>>Qualité & Satisfaction client</option>
            <option value="11" <%= formData && formData.category === 11 ? 'selected' : '' %>>Evénement & Promotions</option>
            <option value="12" <%= formData && formData.category === 12 ? 'selected' : '' %>>Santé & Bien-être au travail</option>
            <option value="13" <%= formData && formData.category === 13 ? 'selected' : '' %>>Mention Légale & RGPD</option>
          </select>
        </div>

        <div class="d-grid mt-4">
          <button type="submit" class="btn btn-primary btn-lg">Valider</button>
        </div>

      </form>
    </div>
  </div>
</div>