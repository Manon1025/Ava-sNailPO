<nav class="navbar">
	<div class="d-none d-lg-flex flex-lg-row justify-content-lg-center align-items-lg-center">
		<span class="d-flex align-items-center">
			<a href="/"><img id="logo" src="/ASSET/img/Logo_Beige.svg" alt="Logo Ava Moon Nails"></a>
		</span>
		<div>
			<ul class="d-flex flex-row gap-4 mb-0 align-items-center">
				<li><a href="/"> 🏠 Accueil</a></li>
				<li><a href="/planning"> 📅 Planning</a></li>
				<li><a href="/messagerie"> 💬 Messagerie</a></li>
				<li><a href="/documents"> 📁 Documents</a></li>
				<% if (typeof user !== 'undefined' && user && user.role === 1) { %>
					<li><a href="/listeEmployer"> 👥 Salariés</a></li>
					<% } %>
			</ul>
		</div>
	</div>

	<div class="d-lg-none d-sm-flex flex-sm-row justify-content-sm-center align-items-sm-center">
		<nav class="custom-mobile-navbar">
			<div class="mobile-nav-container">
				<!-- Logo à gauche -->
				<div class="mobile-logo">
					<a href="/">
						<img src="/ASSET/img/Logo_Beige.svg" alt="Logo Ava Moon Nails" id="logo">
					</a>
				</div>

				<!-- Menu burger au centre -->
				<div class="mobile-burger">
					<button class="burger-btn" onclick="toggleMobileMenu()">
						<span class="burger-line"></span>
						<span class="burger-line"></span>
						<span class="burger-line"></span>
					</button>
				</div>

				<!-- Icônes à droite -->
				<div class="mobile-icons">
					<span class="notification-icon">
						<svg xmlns="http://www.w3.org/2000/svg" width="25" height="30" fill="currentColor"
							class="bi bi-bell" viewBox="0 0 16 16">
							<path
								d="M8 16a2 2 0 0 0 2-2H6a2 2 0 0 0 2 2M8 1.918l-.797.161A4 4 0 0 0 4 6c0 .628-.134 2.197-.459 3.742-.16.767-.376 1.566-.663 2.258h10.244c-.287-.692-.502-1.49-.663-2.258C12.134 8.197 12 6.628 12 6a4 4 0 0 0-3.203-3.92zM14.22 12c.223.447.481.801.78 1H1c.299-.199.557-.553.78-1C2.68 10.2 3 6.88 3 6c0-2.42 1.72-4.44 4.005-4.901a1 1 0 1 1 1.99 0A5 5 0 0 1 13 6c0 .88.32 4.2 1.22 6" />
						</svg>
					</span>
					<% if (typeof user !== 'undefined' && user && user.avatar) { %>
						<a href="/profil" class="avatar-link">
							<img src="/uploads/<%= user.avatar %>" alt="avatar" class="avatar-nav">
						</a>
					<% } %>
				</div>
			</div>

			<!-- Menu mobile personnalisé -->
			<div class="mobile-menu" id="mobileMenu">
				<div class="mobile-menu-overlay" onclick="closeMobileMenu()"></div>
				<div class="mobile-menu-content">
					<div class="mobile-menu-header">
						<h3>Navigation</h3>
						<button class="close-btn" onclick="closeMobileMenu()">×</button>
					</div>
					<div class="mobile-menu-body">
						<ul class="mobile-nav-list">
							<li><a href="/" onclick="closeMobileMenu()">🏠 Accueil</a></li>
							<li><a href="/planning" onclick="closeMobileMenu()">📅 Planning</a></li>
							<li><a href="/messagerie" onclick="closeMobileMenu()">💬 Messagerie</a></li>
							<li><a href="/documents" onclick="closeMobileMenu()">📁 Documents</a></li>
							<% if (typeof user !== 'undefined' && user && user.role === 1) { %>
								<li><a href="/listeEmployer" onclick="closeMobileMenu()">👥 Salariés</a></li>
							<% } %>
						</ul>
						<div class="mobile-menu-footer">
							<a href="/logout" class="logout-btn">🚪 Se déconnecter</a>
						</div>
					</div>
				</div>
			</div>
		</nav>
	</div>

<script>
function toggleMobileMenu() {
    const menu = document.getElementById('mobileMenu');
    const burger = document.querySelector('.burger-btn');
    
    if (menu.classList.contains('active')) {
        closeMobileMenu();
    } else {
        menu.classList.add('active');
        burger.classList.add('active');
        document.body.style.overflow = 'hidden';
    }
}

function closeMobileMenu() {
    const menu = document.getElementById('mobileMenu');
    const burger = document.querySelector('.burger-btn');
    
    menu.classList.remove('active');
    burger.classList.remove('active');
    document.body.style.overflow = 'auto';
}

// Fermer le menu si on clique en dehors
document.addEventListener('click', function(event) {
    const menu = document.getElementById('mobileMenu');
    const burger = document.querySelector('.burger-btn');
    
    if (menu.classList.contains('active') && 
        !menu.contains(event.target) && 
        !burger.contains(event.target)) {
        closeMobileMenu();
    }
});
</script>

	<div class="d-none d-lg-flex align-items-lg-center gap-lg-5">
		<span>
			<svg xmlns="http://www.w3.org/2000/svg" width="25" height="30" fill="currentColor" class="bi bi-bell"
				viewBox="0 0 16 16">
				<path
					d="M8 16a2 2 0 0 0 2-2H6a2 2 0 0 0 2 2M8 1.918l-.797.161A4 4 0 0 0 4 6c0 .628-.134 2.197-.459 3.742-.16.767-.376 1.566-.663 2.258h10.244c-.287-.692-.502-1.49-.663-2.258C12.134 8.197 12 6.628 12 6a4 4 0 0 0-3.203-3.92zM14.22 12c.223.447.481.801.78 1H1c.299-.199.557-.553.78-1C2.68 10.2 3 6.88 3 6c0-2.42 1.72-4.44 4.005-4.901a1 1 0 1 1 1.99 0A5 5 0 0 1 13 6c0 .88.32 4.2 1.22 6" />
			</svg>
		</span>
		<% if (typeof user !== 'undefined' && user && user.avatar) { %>
			<span>
				<a href="/profil"><img id="avatar" src="/uploads/<%= user.avatar %>" alt="avatar" class="avatar-nav"></a>
			</span>
		<% } %>
	</div>

</nav>