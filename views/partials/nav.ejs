<!-- START STYLES -->
<link rel="stylesheet" href="/CSS/PARTIALS/navbar.css">
<!-- END STYLES -->

<!-- START NAVIGATION -->
<nav class="navbar">
	<!-- ! START GAUCHE LG -->
	<div class="d-none d-lg-flex flex-lg-row justify-content-lg-center align-items-lg-center">
		<span class="d-flex align-items-center">
			<a href="/"><img id="logo" src="/ASSET/img/Logo_Beige.svg" alt="Logo Ava Moon Nails"></a>
		</span>
		<div>
			<ul class="d-flex flex-row gap-4 mb-0 align-items-center">
				<li><a href="/"> ğŸ  Accueil</a></li>
				<li><a href="/planning"> ğŸ“… Planning</a></li>
				<!-- <li><a href="/messagerie"> ğŸ’¬ Messagerie</a></li> -->
				<li><a href="/documents"> ğŸ“ Documents</a></li>
				<% if (typeof user !== 'undefined' && user && user.role === 1) { %>
					<li><a href="/listeEmployer"> ğŸ‘¥ SalariÃ©s</a></li>
					<li><a href="/clients">ğŸ‘¤ Clients</a></li>
				<% } %>
			</ul>
		</div>
	</div>
	<!-- ! END GAUCHE LG -->

	<!-- ! START MOBILE -->
	<div class="d-lg-none d-sm-flex flex-sm-row justify-content-sm-center align-items-sm-center">
		<nav class="custom-mobile-navbar">

			<!-- TODO: START NAVIGATION CLOSE -->
			<div class="mobile-nav-container">
				<div class="mobile-logo">
					<a href="/">
						<img src="/ASSET/img/Logo_Beige.svg" alt="Logo Ava Moon Nails" id="logo">
					</a>
				</div>
				<div class="mobile-burger">
					<button class="burger-btn" onclick="toggleMobileMenu()">
						<span class="burger-line"></span>
						<span class="burger-line"></span>
						<span class="burger-line"></span>
					</button>
				</div>
				<div class="mobile-icons">
					<% if (typeof user !== 'undefined' && user && user.avatar) { %>
						<a href="/profil" class="avatar-link">
							<img src="/uploads/<%= user.avatar %>" alt="avatar" class="avatar-nav">
						</a>
					<% } %>
				</div>
			</div>
			<!-- TODO: END NAVIGATION CLOSE -->

			<!-- TODO: START NAVIGATION OPEN -->
			<div class="mobile-menu" id="mobileMenu">
				<div class="mobile-menu-overlay" onclick="closeMobileMenu()"></div>
				<div class="mobile-menu-content">
					<div class="mobile-menu-header">
						<h3>Navigation</h3>
						<button class="close-btn" onclick="closeMobileMenu()">Ã—</button>
					</div>
					<div class="mobile-menu-body">
						<ul class="mobile-nav-list">
							<li><a href="/" onclick="closeMobileMenu()">ğŸ  Accueil</a></li>
							<li><a href="/planning" onclick="closeMobileMenu()">ğŸ“… Planning</a></li>
							<!-- <li><a href="/messagerie" onclick="closeMobileMenu()">ğŸ’¬ Messagerie</a></li> -->
							<li><a href="/documents" onclick="closeMobileMenu()">ğŸ“ Documents</a></li>
							<% if (typeof user !== 'undefined' && user && user.role === 1) { %>
								<li><a href="/listeEmployer" onclick="closeMobileMenu()">ğŸ‘¥ SalariÃ©s</a></li>
								<li><a href="/clients" onclick="closeMobileMenu()">ğŸ‘¤ Clients</a></li>
							<% } %>
						</ul>
						<div class="mobile-menu-footer">
							<a href="/logout" class="logout-btn">ğŸšª Se dÃ©connecter</a>
						</div>
					</div>
				</div>
			</div>
			<!-- TODO: END NAVIGATION OPEN -->
		</nav>
	</div>
	<!-- ! END MOBILE -->

	<!-- ! START DROITE LG -->
	<div class="d-none d-lg-flex align-items-lg-center gap-lg-5">
		<% if (typeof user !== 'undefined' && user && user.avatar) { %>
			<span>
				<a href="/profil"><img id="avatar" src="/uploads/<%= user.avatar %>" alt="avatar" class="avatar-nav"></a>
			</span>
		<% } %>
	</div>
	<!-- ! END DROITE LG -->

</nav>
<!-- END NAVIGATION -->

<!-- START SCRIPT -->
<script>
function toggleMobileMenu() {
    const menu = document.getElementById('mobileMenu');
    const burger = document.querySelector('.burger-btn');
    
    if (menu.classList.contains('active')) {
        closeMobileMenu();
    } else {
        menu.classList.add('active');
        burger.classList.add('active');
        document.body.style.overflow = 'hidden';
    }
}

function closeMobileMenu() {
    const menu = document.getElementById('mobileMenu');
    const burger = document.querySelector('.burger-btn');
    
    menu.classList.remove('active');
    burger.classList.remove('active');
    document.body.style.overflow = 'auto';
}

// Fermer le menu si on clique en dehors
document.addEventListener('click', function(event) {
    const menu = document.getElementById('mobileMenu');
    const burger = document.querySelector('.burger-btn');
    
    if (menu.classList.contains('active') && 
        !menu.contains(event.target) && 
        !burger.contains(event.target)) {
        closeMobileMenu();
    }
});
</script>
<!-- END SCRIPT -->